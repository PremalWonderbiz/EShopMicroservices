This file is a merged representation of the entire codebase, combining all repository files into a single document.
Generated by Repomix on: 2026-01-30 10:00:06

# File Summary

## Purpose:

This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.

## File Format:

The content is organized as follows:
1. This summary section
2. Repository information
3. Repository structure
4. Multiple file entries, each consisting of:
   a. A header with the file path (## File: path/to/file)
   b. The full contents of the file in a code block

## Usage Guidelines:

- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.

## Notes:

- Some files may have been excluded based on .gitignore rules and Repomix's
  configuration.
- Binary files are not included in this packed representation. Please refer to
  the Repository Structure section for a complete list of file paths, including
  binary files.

## Additional Information:

For more information about Repomix, visit: https://github.com/andersonby/python-repomix


# Repository Structure

```
.gitignore
Dockerfile
docs
  pages
    checkout.md
  store
    cartStore.md
eslint.config.js
index.html
package.json
README.md
src
  api
    basketService.ts
    catalogService.ts
    orderingService.ts
  App.css
  App.tsx
  components
    cart
      CartItem.tsx
    common
      ErrorBoundary.tsx
      Footer.tsx
      Header.tsx
      Loading.tsx
    order
      OrderItem.tsx
    product
      ProductCard.tsx
      ProductItem.tsx
      TopProduct.tsx
  config
    constants.ts
  hooks
    useCart.ts
    useOrders.ts
    useProducts.ts
  index.css
  main.tsx
  pages
    Cart.tsx
    Checkout.tsx
    Confirmation.tsx
    Contact.tsx
    Error.tsx
    Home.tsx
    OrderList.tsx
    Privacy.tsx
    ProductDetail.tsx
    ProductList.tsx
  router.tsx
  store
    cartStore.ts
    userStore.ts
  styles
    global.css
  types
    cart.ts
    order.ts
    product.ts
  utils
    formatters.ts
    validators.ts
tsconfig.app.json
tsconfig.json
tsconfig.node.json
vite.config.ts
```

# Repository Files


## .gitignore

```text
# Logs
logs
*.log
npm-debug.log*
yarn-debug.log*
yarn-error.log*
pnpm-debug.log*
lerna-debug.log*

node_modules
dist
dist-ssr
*.local

# Editor directories and files
.vscode/*
!.vscode/extensions.json
.idea
.DS_Store
*.suo
*.ntvs*
*.njsproj
*.sln
*.sw?
```

## Dockerfile

```text
FROM node:20-alpine AS build

WORKDIR /app

COPY package.json package-lock.json ./
RUN npm ci

COPY . .
RUN npm run build

# Runtime image
FROM node:20-alpine

WORKDIR /app
COPY --from=build /app/dist ./dist

# Vite preview
RUN npm install -g serve
EXPOSE 5173

CMD ["serve", "-s", "dist", "-l", "5173"]
```

## docs/pages/checkout.md

````markdown
# `Checkout` Component â€“ Summary & Flow

## Quick Summary âœ…

The **Checkout** component:

* Renders a **validated checkout form**
* Displays an **order summary**
* Submits a **checkout request** to the backend
* Clears the cart on success
* Navigates the user to the **confirmation page**

---

## Step-by-Step Flow ðŸ”

### Imports & Setup

* Uses **`react-hook-form`** with **Yup** validation via `yupResolver`
* Reads `cart` and `clearCart` from `useCartStore`
* Uses:

  * `basketService` to call the checkout API
  * `useNavigate` from React Router for redirection

---

### Validation Schema

* A Yup `schema` defines required fields for:

  * Shipping details (first name, last name, email, address, etc.)
  * Payment details (card number, expiry, CVV, etc.)
* Client-side validation runs **before** any API call

---

### Guard / Early Redirect

* If `cart` is `null` or contains no items:

  * Redirects to `/cart`
  * Stops rendering the checkout UI

---

### UI Rendering

#### Left Column â€“ Shipping Information

* Form fields registered using `register`
* Inline validation errors displayed using `errors`

#### Right Column â€“ Payment & Order Summary

* Payment input fields
* Order summary:

  * **Total Items**

    ```ts
    cart.items.reduce((sum, i) => sum + i.quantity, 0)
    ```
  * **Total Price**

    ```ts
    cart.totalPrice.toFixed(2)
    ```
* Submit button:

  * Disabled while `submitting === true`

---

### Submit Handler (`onSubmit`)

1. Returns early if `cart` is missing
2. Sets `submitting` to `true`
3. Builds a `BasketCheckout` object containing:

   * `userName`
   * Placeholder `customerId`
   * `totalPrice`
   * `paymentMethod`
4. Calls checkout API:

   ```ts
   await basketService.checkoutBasket({
     basketCheckoutDto: checkoutData
   })
   ```
5. On success:

   * `await clearCart()`
   * Navigate to `/confirmation`
6. On error:

   * Logs the error
   * Shows an alert
7. Finally:

   * Resets `submitting` to `false`

---

## Behavior Notes & Possible Improvements ðŸ’¡

* Form validation is fully **client-side** via Yup
* `clearCart()` is awaited to ensure cart state is cleared before navigation

### Potential Enhancements

* Replace placeholder `customerId` with a real user identifier
* Use Zustand selectors:

  ```ts
  useCartStore(s => s.cart)
  ```

  to reduce unnecessary re-renders
* Replace `alert()` with a better error UI
* Add loading indicators or spinner feedback during submission
````

## docs/store/cartStore.md

````markdown
# `cartStore.ts` â€“ Overview & Usage Guide

## Quick Overview âœ…

### What this file is

`cartStore.ts` defines a **Zustand store** for the shopping cart. It declares:

* The cart **state shape**
* **Async and sync actions**
* **Persistence** using middleware

The store is exported as `useCartStore` and is consumed by React components to **read and update cart data**.

---

## Core Concepts (Zustand) ðŸ”§

* **Zustand** is a tiny, unopinionated state manager for React.
* It exposes a **hook** (`useCartStore`) that components use to access and manipulate state.
* The store initializer receives:

  * `set` â†’ update state
  * `get` â†’ read current state
* **Middlewares** (like `persist`) add extra behavior such as `localStorage` persistence.
* Stores are created using:

```ts
create<T>()(initializer)
```

Where `T` is a TypeScript interface describing the storeâ€™s shape.

---

## How `cartStore.ts` Uses Zustand ðŸ“Œ

### Store Creation

* Uses `persist` middleware
* Saves state to `localStorage` under the key:

```txt
shopping-cart
```

* Automatically **rehydrates** state on app load

---

### State Fields

```ts
cart: ShoppingCart | null   // items, totalPrice, userName
loading: boolean
error: string | null
```

---

### Actions (Async & Sync)

#### `loadCart()`

* Loads user basket via:

```ts
basketService.loadUserBasket()
```

* Updates `cart` state

#### `addItem(item)`

* Adds a new item or increments quantity
* Recalculates `totalPrice`
* Calls `syncCart()` to persist changes to backend

#### `removeItem(productId)`

* Removes item from cart
* Recalculates total price
* Calls `syncCart()`

#### `updateQuantity(productId, quantity)`

* Updates item quantity
* Removes item if `quantity <= 0`
* Calls `syncCart()`

#### `clearCart()`

* Calls:

```ts
basketService.deleteBasket(...)
```

* Clears local cart state

#### `syncCart()`

* Syncs local cart to backend using:

```ts
basketService.storeBasket({ cart })
```

---

### Implementation Pattern

* Use `get()` inside actions to read current state
* Use `set()` to update state
* Actions perform **optimistic updates**:

  * Update UI immediately
  * Then sync changes to server via `syncCart()`

---

## Example Usage in a Component ðŸ‘©â€ðŸ’»

### Best Practices

* Use **selectors** to avoid unnecessary re-renders
* Trigger `loadCart()` on component mount
* Use `await addItem(item)` inside event handlers

---

## Tips & Gotchas âš ï¸

* `persist` uses `localStorage`

  * âŒ Not SSR-safe (undefined on server)
* Always use **selectors**

  * Avoid reading the entire cart if you only need `items.length`
* Optimistic updates are used

  * Errors are stored in `error`
  * Consider retry logic or better error handling
* For frequent updates:

  * **Debounce `syncCart()`** to reduce backend calls ðŸ’¡
````

## eslint.config.js

```javascript
import js from '@eslint/js'
import globals from 'globals'
import reactHooks from 'eslint-plugin-react-hooks'
import reactRefresh from 'eslint-plugin-react-refresh'
import tseslint from 'typescript-eslint'
import { defineConfig, globalIgnores } from 'eslint/config'

export default defineConfig([
  globalIgnores(['dist']),
  {
    files: ['**/*.{ts,tsx}'],
    extends: [
      js.configs.recommended,
      tseslint.configs.recommended,
      reactHooks.configs.flat.recommended,
      reactRefresh.configs.vite,
    ],
    languageOptions: {
      ecmaVersion: 2020,
      globals: globals.browser,
    },
    rules: {
      '@typescript-eslint/no-explicit-any': 'off',
    },
  },
])
```

## index.html

```html
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>shopping-web-react</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
```

## package.json

```json
{
  "name": "shopping-web-react",
  "private": true,
  "version": "0.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "tsc -b && vite build",
    "lint": "eslint .",
    "preview": "vite preview"
  },
  "dependencies": {
    "@hookform/resolvers": "^5.2.2",
    "axios": "^1.13.4",
    "bootstrap": "^5.3.8",
    "bootstrap-icons": "^1.13.1",
    "date-fns": "^4.1.0",
    "react": "^19.2.0",
    "react-bootstrap": "^2.10.10",
    "react-dom": "^19.2.0",
    "react-hook-form": "^7.71.1",
    "react-router-dom": "^7.13.0",
    "uuid": "^13.0.0",
    "yup": "^1.7.1",
    "zustand": "^5.0.10"
  },
  "devDependencies": {
    "@eslint/js": "^9.39.1",
    "@types/node": "^24.10.1",
    "@types/react": "^19.2.5",
    "@types/react-dom": "^19.2.3",
    "@types/react-router-dom": "^5.3.3",
    "@types/uuid": "^10.0.0",
    "@vitejs/plugin-react": "^5.1.1",
    "eslint": "^9.39.1",
    "eslint-plugin-react-hooks": "^7.0.1",
    "eslint-plugin-react-refresh": "^0.4.24",
    "globals": "^16.5.0",
    "typescript": "~5.9.3",
    "typescript-eslint": "^8.46.4",
    "vite": "^7.2.4"
  }
}
```

## README.md

````markdown
# React + TypeScript + Vite

This template provides a minimal setup to get React working in Vite with HMR and some ESLint rules.

Currently, two official plugins are available:

- [@vitejs/plugin-react](https://github.com/vitejs/vite-plugin-react/blob/main/packages/plugin-react) uses [Babel](https://babeljs.io/) (or [oxc](https://oxc.rs) when used in [rolldown-vite](https://vite.dev/guide/rolldown)) for Fast Refresh
- [@vitejs/plugin-react-swc](https://github.com/vitejs/vite-plugin-react/blob/main/packages/plugin-react-swc) uses [SWC](https://swc.rs/) for Fast Refresh

## React Compiler

The React Compiler is not enabled on this template because of its impact on dev & build performances. To add it, see [this documentation](https://react.dev/learn/react-compiler/installation).

## Expanding the ESLint configuration

If you are developing a production application, we recommend updating the configuration to enable type-aware lint rules:

```js
export default defineConfig([
  globalIgnores(['dist']),
  {
    files: ['**/*.{ts,tsx}'],
    extends: [
      // Other configs...

      // Remove tseslint.configs.recommended and replace with this
      tseslint.configs.recommendedTypeChecked,
      // Alternatively, use this for stricter rules
      tseslint.configs.strictTypeChecked,
      // Optionally, add this for stylistic rules
      tseslint.configs.stylisticTypeChecked,

      // Other configs...
    ],
    languageOptions: {
      parserOptions: {
        project: ['./tsconfig.node.json', './tsconfig.app.json'],
        tsconfigRootDir: import.meta.dirname,
      },
      // other options...
    },
  },
])
```

You can also install [eslint-plugin-react-x](https://github.com/Rel1cx/eslint-react/tree/main/packages/plugins/eslint-plugin-react-x) and [eslint-plugin-react-dom](https://github.com/Rel1cx/eslint-react/tree/main/packages/plugins/eslint-plugin-react-dom) for React-specific lint rules:

```js
// eslint.config.js
import reactX from 'eslint-plugin-react-x'
import reactDom from 'eslint-plugin-react-dom'

export default defineConfig([
  globalIgnores(['dist']),
  {
    files: ['**/*.{ts,tsx}'],
    extends: [
      // Other configs...
      // Enable lint rules for React
      reactX.configs['recommended-typescript'],
      // Enable lint rules for React DOM
      reactDom.configs.recommended,
    ],
    languageOptions: {
      parserOptions: {
        project: ['./tsconfig.node.json', './tsconfig.app.json'],
        tsconfigRootDir: import.meta.dirname,
      },
      // other options...
    },
  },
])
```
````

## src/api/basketService.ts

```typescript
import type { CheckoutBasketRequest, CheckoutBasketResponse, DeleteBasketResponse, GetBasketResponse, ShoppingCart, StoreBasketRequest, StoreBasketResponse } from '../types/cart';
import apiClient from './client';

const DEFAULT_USERNAME = import.meta.env.VITE_DEFAULT_USERNAME || 'swn';

export const basketService = {
  getBasket: async (userName: string = DEFAULT_USERNAME): Promise<GetBasketResponse> => {
    const response = await apiClient.get<GetBasketResponse>(
      `/basket-service/basket/${userName}`
    );
    return response.data;
  },

  storeBasket: async (request: StoreBasketRequest): Promise<StoreBasketResponse> => {
    const response = await apiClient.post<StoreBasketResponse>(
      `/basket-service/basket`,
      request
    );
    return response.data;
  },

  deleteBasket: async (userName: string = DEFAULT_USERNAME): Promise<DeleteBasketResponse> => {
    const response = await apiClient.delete<DeleteBasketResponse>(
      `/basket-service/basket/${userName}`
    );
    return response.data;
  },

  checkoutBasket: async (request: CheckoutBasketRequest): Promise<CheckoutBasketResponse> => {
    const response = await apiClient.post<CheckoutBasketResponse>(
      `/basket-service/basket/checkout`,
      request
    );
    return response.data;
  },

  loadUserBasket: async (): Promise<ShoppingCart> => {
    try {
      const response = await basketService.getBasket(DEFAULT_USERNAME);
      return response.cart;
    } catch (error : any) {
      if (error.response?.status === 404) {
        // Return empty basket if not found
        return {
          userName: DEFAULT_USERNAME,
          items: [],
          totalPrice: 0,
        };
      }
      throw error;
    }
  },
};
```

## src/api/catalogService.ts

```typescript
import type { GetProductByCategoryResponse, GetProductByIdResponse, GetProductsResponse, PaginationParams } from '../types/product';
import apiClient from './client';

export const catalogService = {
  getProducts: async (params?: PaginationParams): Promise<GetProductsResponse> => {
    const { pageNumber = 1, pageSize = 10 } = params || {};
    const response = await apiClient.get<GetProductsResponse>(
      `/catalog-service/products`,
      { params: { pageNumber, pageSize } }
    );
    return response.data;
  },

  getProduct: async (id: string): Promise<GetProductByIdResponse> => {
    const response = await apiClient.get<GetProductByIdResponse>(
      `/catalog-service/products/${id}`
    );
    return response.data;
  },

  getProductsByCategory: async (category: string): Promise<GetProductByCategoryResponse> => {
    const response = await apiClient.get<GetProductByCategoryResponse>(
      `/catalog-service/products/category/${category}`
    );
    return response.data;
  },
};
```

## src/api/orderingService.ts

```typescript
import type { GetOrdersByCustomerResponse, GetOrdersByNameResponse, GetOrdersResponse } from '../types/order';
import apiClient from './client';

export const orderingService = {
  getOrders: async (pageIndex: number = 1, pageSize: number = 10): Promise<GetOrdersResponse> => {
    const response = await apiClient.get<GetOrdersResponse>(
      `/ordering-service/orders`,
      { params: { pageIndex, pageSize } }
    );
    return response.data;
  },

  getOrdersByName: async (orderName: string): Promise<GetOrdersByNameResponse> => {
    const response = await apiClient.get<GetOrdersByNameResponse>(
      `/ordering-service/orders/${orderName}`
    );
    return response.data;
  },

  getOrdersByCustomer: async (customerId: string): Promise<GetOrdersByCustomerResponse> => {
    const response = await apiClient.get<GetOrdersByCustomerResponse>(
      `/ordering-service/orders/customer/${customerId}`
    );
    return response.data;
  },
};
```

## src/App.css

```css
#root {
  max-width: 1280px;
  margin: 0 auto;
  padding: 2rem;
  text-align: center;
}

.logo {
  height: 6em;
  padding: 1.5em;
  will-change: filter;
  transition: filter 300ms;
}
.logo:hover {
  filter: drop-shadow(0 0 2em #646cffaa);
}
.logo.react:hover {
  filter: drop-shadow(0 0 2em #61dafbaa);
}

@keyframes logo-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@media (prefers-reduced-motion: no-preference) {
  a:nth-of-type(2) .logo {
    animation: logo-spin infinite 20s linear;
  }
}

.card {
  padding: 2em;
}

.read-the-docs {
  color: #888;
}
```

## src/App.tsx

```text
import React, { useEffect, useState } from 'react';
import { Outlet } from 'react-router-dom';
import Header from './components/common/Header';
import Footer from './components/common/Footer';
import ErrorBoundary from './components/common/ErrorBoundary';
import Loading from './components/common/Loading';
import { useCartStore } from './store/cartStore';

const App: React.FC = () => {
  const loadCart = useCartStore((state) => state.loadCart);
  const [initializing, setInitializing] = useState(true);

  useEffect(() => {
    const initialize = async () => {
      try {
        await loadCart();
      } catch (error) {
        console.error('Failed to load cart:', error);
      } finally {
        setInitializing(false);
      }
    };

    initialize();
  }, [loadCart]);

  if (initializing) {
    return <Loading fullScreen message="Initializing application..." />;
  }

  return (
    <ErrorBoundary>
      <div className="d-flex flex-column min-vh-100">
        <Header />
        <main className="flex-grow-1">
          <Outlet />
        </main>
        <Footer />
      </div>
    </ErrorBoundary>
  );
};

export default App;
```

## src/components/cart/CartItem.tsx

```text
import React from 'react';
import type { ShoppingCartItem } from '../../types/cart';

interface CartItemProps {
  item: ShoppingCartItem;
  onUpdateQuantity: (productId: string, quantity: number) => void;
  onRemove: (productId: string) => void;
}

const CartItem: React.FC<CartItemProps> = ({
  item,
  onUpdateQuantity,
  onRemove,
}) => {
  return (
    <tr>
      <td>{item.productName}</td>
      <td>${item.price.toFixed(2)}</td>
      <td>
        <input
          type="number"
          min="1"
          value={item.quantity}
          onChange={(e) => onUpdateQuantity(item.productId, parseInt(e.target.value))}
          className="form-control"
          style={{ width: '80px' }}
        />
      </td>
      <td>${(item.price * item.quantity).toFixed(2)}</td>
      <td>
        <button
          onClick={() => onRemove(item.productId)}
          className="btn btn-danger btn-sm"
        >
          Remove
        </button>
      </td>
    </tr>
  );
};

export default CartItem;
```

## src/components/common/ErrorBoundary.tsx

```text
import { Component } from 'react';
import type { ErrorInfo, ReactNode } from 'react';
import { Link } from 'react-router-dom';

interface Props {
  children: ReactNode;
  fallback?: ReactNode;
}

interface State {
  hasError: boolean;
  error: Error | null;
  errorInfo: ErrorInfo | null;
}

class ErrorBoundary extends Component<Props, State> {
  constructor(props: Props) {
    super(props);
    this.state = {
      hasError: false,
      error: null,
      errorInfo: null,
    };
  }

  static getDerivedStateFromError(error: Error): State {
    return {
      hasError: true,
      error,
      errorInfo: null,
    };
  }

  componentDidCatch(error: Error, errorInfo: ErrorInfo) {
    console.error('Error caught by ErrorBoundary:', error, errorInfo);
    this.setState({
      error,
      errorInfo,
    });

    // You can also log the error to an error reporting service here
    // logErrorToService(error, errorInfo);
  }

  handleReset = () => {
    this.setState({
      hasError: false,
      error: null,
      errorInfo: null,
    });
  };

  render() {
    if (this.state.hasError) {
      // Custom fallback UI
      if (this.props.fallback) {
        return this.props.fallback;
      }

      // Default error UI
      return (
        <div className="container">
          <div className="row min-vh-100 align-items-center justify-content-center">
            <div className="col-md-8 col-lg-6">
              <div className="card border-danger">
                <div className="card-header bg-danger text-white">
                  <h4 className="mb-0">
                    <i className="bi bi-exclamation-triangle me-2"></i>
                    Something Went Wrong
                  </h4>
                </div>
                <div className="card-body">
                  <p className="card-text">
                    We're sorry, but something unexpected happened. Please try
                    refreshing the page or return to the homepage.
                  </p>

                  {import.meta.env?.MODE === 'development' && this.state.error && (
                    <div className="mt-3">
                      <h6 className="text-danger">Error Details (Development Only):</h6>
                      <div className="alert alert-secondary">
                        <strong>Error:</strong> {this.state.error.toString()}
                        <details className="mt-2">
                          <summary>Stack Trace</summary>
                          <pre className="mt-2" style={{ fontSize: '0.75rem' }}>
                            {this.state.errorInfo?.componentStack}
                          </pre>
                        </details>
                      </div>
                    </div>
                  )}

                  <div className="d-flex gap-2 mt-4">
                    <button
                      onClick={this.handleReset}
                      className="btn btn-primary"
                    >
                      Try Again
                    </button>
                    <Link to="/" className="btn btn-outline-secondary">
                      Go to Homepage
                    </Link>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      );
    }

    return this.props.children;
  }
}

export default ErrorBoundary;
```

## src/components/common/Footer.tsx

```text
import React from 'react';
import { Link } from 'react-router-dom';

const Footer: React.FC = () => {
  return (
    <footer className="bg-dark text-white mt-5">
      <div className="container py-4">
        <div className="row">
          <div className="col-md-4">
            <h5>Shopping App</h5>
            <p>Your one-stop shop for all your needs.</p>
          </div>
          <div className="col-md-4">
            <h5>Quick Links</h5>
            <ul className="list-unstyled">
              <li>
                <Link to="/products" className="text-white">
                  Products
                </Link>
              </li>
              <li>
                <Link to="/orders" className="text-white">
                  Orders
                </Link>
              </li>
              <li>
                <Link to="/contact" className="text-white">
                  Contact
                </Link>
              </li>
            </ul>
          </div>
          <div className="col-md-4">
            <h5>Legal</h5>
            <ul className="list-unstyled">
              <li>
                <Link to="/privacy" className="text-white">
                  Privacy Policy
                </Link>
              </li>
            </ul>
          </div>
        </div>
        <div className="row mt-3">
          <div className="col text-center">
            <p className="mb-0">
              &copy; {new Date().getFullYear()} Shopping App. All rights reserved.
            </p>
          </div>
        </div>
      </div>
    </footer>
  );
};

export default Footer;
```

## src/components/common/Header.tsx

```text
import React from 'react';
import { Link } from 'react-router-dom';
import { useCartStore } from '../../store/cartStore';

const Header: React.FC = () => {
  const cart = useCartStore((state) => state.cart);
  const itemCount = cart?.items.reduce((sum, item) => sum + item.quantity, 0) || 0;

  return (
    <nav className="navbar navbar-expand-md navbar-dark bg-dark">
      <div className="container">
        <Link className="navbar-brand" to="/">
          Shopping App
        </Link>
        <button
          className="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
        >
          <span className="navbar-toggler-icon"></span>
        </button>
        <div className="collapse navbar-collapse" id="navbarNav">
          <ul className="navbar-nav ms-auto">
            <li className="nav-item">
              <Link className="nav-link" to="/">
                Home
              </Link>
            </li>
            <li className="nav-item">
              <Link className="nav-link" to="/products">
                Products
              </Link>
            </li>
            <li className="nav-item">
              <Link className="nav-link" to="/orders">
                Orders
              </Link>
            </li>
            <li className="nav-item">
              <Link className="nav-link" to="/contact">
                Contact
              </Link>
            </li>
            <li className="nav-item">
              <Link className="nav-link" to="/cart">
                Cart
                {itemCount > 0 && (
                  <span className="badge bg-danger ms-1">{itemCount}</span>
                )}
              </Link>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  );
};

export default Header;
```

## src/components/common/Loading.tsx

```text
import React from 'react';

interface LoadingProps {
  message?: string;
  fullScreen?: boolean;
}

const Loading: React.FC<LoadingProps> = ({ 
  message = 'Loading...', 
  fullScreen = false 
}) => {
  const containerClass = fullScreen
    ? 'min-vh-100 d-flex align-items-center justify-content-center'
    : 'd-flex align-items-center justify-content-center py-5';

  return (
    <div className={containerClass}>
      <div className="text-center">
        <div className="spinner-border text-primary" role="status" style={{ width: '3rem', height: '3rem' }}>
          <span className="visually-hidden">Loading...</span>
        </div>
        {message && <p className="mt-3 text-muted">{message}</p>}
      </div>
    </div>
  );
};

export default Loading;
```

## src/components/order/OrderItem.tsx

```text

```

## src/components/product/ProductCard.tsx

```text
import React from 'react';
import { Link } from 'react-router-dom';
import type { Product } from '../../types/product';

interface ProductCardProps {
  product: Product;
  onAddToCart?: (product: Product) => void;
}

const ProductCard: React.FC<ProductCardProps> = ({ product, onAddToCart }) => {
  return (
    <div className="col-md-4 mb-4">
      <div className="card h-100">
        <Link to={`/products/${product.id}`}>
          <img
            src={`/images/product/${product.imageFile}`}
            className="card-img-top"
            alt={product.name}
            style={{ height: '200px', objectFit: 'cover' }}
          />
        </Link>
        <div className="card-body d-flex flex-column">
          <h5 className="card-title">
            <Link to={`/products/${product.id}`} className="text-decoration-none">
              {product.name}
            </Link>
          </h5>
          <p className="card-text flex-grow-1">
            {product.description.substring(0, 100)}...
          </p>
          <div className="row mt-auto">
            <div className="col">
              <p className="btn btn-danger btn-block mb-0">${product.price}</p>
            </div>
            <div className="col">
              {onAddToCart ? (
                <button
                  onClick={() => onAddToCart(product)}
                  className="btn btn-success btn-block"
                >
                  Add to Cart
                </button>
              ) : (
                <Link
                  to={`/products/${product.id}`}
                  className="btn btn-success btn-block"
                >
                  View Details
                </Link>
              )}
            </div>
          </div>
        </div>
      </div>
    </div>
  );
};

export default ProductCard;
```

## src/components/product/ProductItem.tsx

```text

```

## src/components/product/TopProduct.tsx

```text
import React from 'react';
import { Link } from 'react-router-dom';
import type { Product } from '../../types/product';

interface TopProductProps {
  product: Product;
}

const TopProduct: React.FC<TopProductProps> = ({ product }) => {
  return (
    <div className="col-12 col-md-3">
      <div className="card">
        <div className="card-header bg-success text-white text-uppercase">
          <i className="fa fa-heart"></i> Top product
        </div>
        <Link to={`/products/${product.id}`}>
          <img
            className="img-fluid border-0"
            src={`/images/product/${product.imageFile}`}
            alt={product.name}
          />
        </Link>
        <div className="card-body">
          <h4 className="card-title text-center">
            <Link to={`/products/${product.id}`} title="View Product">
              {product.name}
            </Link>
          </h4>
          <div className="row">
            <div className="col">
              <p className="btn btn-danger btn-block">${product.price}</p>
            </div>
            <div className="col">
              <Link
                to={`/products/${product.id}`}
                className="btn btn-success btn-block"
              >
                View
              </Link>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
};

export default TopProduct;
```

## src/config/constants.ts

```typescript

```

## src/hooks/useCart.ts

```typescript

```

## src/hooks/useOrders.ts

```typescript
import { useState, useEffect } from 'react';
import { orderingService } from '../api/orderingService';
import type { Order, PaginatedResult } from '../types/order';

export const useOrders = (pageIndex: number = 1, pageSize: number = 10) => {
  const [orders, setOrders] = useState<PaginatedResult<Order> | null>(null);
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState<string | null>(null);

  useEffect(() => {
    const fetchOrders = async () => {
      setLoading(true);
      setError(null);
      try {
        const response = await orderingService.getOrders(pageIndex, pageSize);
        setOrders(response.orders);
      } catch (err: any) {
        setError(err.message);
      } finally {
        setLoading(false);
      }
    };

    fetchOrders();
  }, [pageIndex, pageSize]);

  const refetch = async () => {
    setLoading(true);
    setError(null);
    try {
      const response = await orderingService.getOrders(pageIndex, pageSize);
      setOrders(response.orders);
    } catch (err: any) {
      setError(err.message);
    } finally {
      setLoading(false);
    }
  };

  return { orders, loading, error, refetch };
};
```

## src/hooks/useProducts.ts

```typescript
import { useState, useEffect } from 'react';
import { catalogService } from '../api/catalogService';
import type { Product } from '../types/product';

export const useProducts = (pageNumber: number = 1, pageSize: number = 10) => {
  const [products, setProducts] = useState<Product[]>([]);
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState<string | null>(null);

  useEffect(() => {
    const fetchProducts = async () => {
      setLoading(true);
      setError(null);
      try {
        const response = await catalogService.getProducts({ pageNumber, pageSize });
        setProducts(response.products);
      } catch (err: any) {
        setError(err.message);
      } finally {
        setLoading(false);
      }
    };

    fetchProducts();
  }, [pageNumber, pageSize]);

  return { products, loading, error };
};

export const useProduct = (id: string) => {
  const [product, setProduct] = useState<Product | null>(null);
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState<string | null>(null);

  useEffect(() => {
    if (!id) return;

    const fetchProduct = async () => {
      setLoading(true);
      setError(null);
      try {
        const response = await catalogService.getProduct(id);
        setProduct(response.product);
      } catch (err: any) {
        setError(err.message);
      } finally {
        setLoading(false);
      }
    };

    fetchProduct();
  }, [id]);

  return { product, loading, error };
};

export const useProductsByCategory = (category: string) => {
  const [products, setProducts] = useState<Product[]>([]);
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState<string | null>(null);

  useEffect(() => {
    if (!category) return;

    const fetchProducts = async () => {
      setLoading(true);
      setError(null);
      try {
        const response = await catalogService.getProductsByCategory(category);
        setProducts(response.products);
      } catch (err: any) {
        setError(err.message);
      } finally {
        setLoading(false);
      }
    };

    fetchProducts();
  }, [category]);

  return { products, loading, error };
};
```

## src/index.css

```css
:root {
  font-family: system-ui, Avenir, Helvetica, Arial, sans-serif;
  line-height: 1.5;
  font-weight: 400;

  color-scheme: light dark;
  color: rgba(255, 255, 255, 0.87);
  background-color: #242424;

  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

a {
  font-weight: 500;
  color: #646cff;
  text-decoration: inherit;
}
a:hover {
  color: #535bf2;
}

body {
  margin: 0;
  display: flex;
  place-items: center;
  min-width: 320px;
  min-height: 100vh;
}

h1 {
  font-size: 3.2em;
  line-height: 1.1;
}

button {
  border-radius: 8px;
  border: 1px solid transparent;
  padding: 0.6em 1.2em;
  font-size: 1em;
  font-weight: 500;
  font-family: inherit;
  background-color: #1a1a1a;
  cursor: pointer;
  transition: border-color 0.25s;
}
button:hover {
  border-color: #646cff;
}
button:focus,
button:focus-visible {
  outline: 4px auto -webkit-focus-ring-color;
}

@media (prefers-color-scheme: light) {
  :root {
    color: #213547;
    background-color: #ffffff;
  }
  a:hover {
    color: #747bff;
  }
  button {
    background-color: #f9f9f9;
  }
}
```

## src/main.tsx

```text
import React, { Suspense } from 'react';
import ReactDOM from 'react-dom/client';
import { RouterProvider } from 'react-router-dom';
import { router } from './router';
import Loading from './components/common/Loading';
import 'bootstrap/dist/css/bootstrap.min.css';
import 'bootstrap-icons/font/bootstrap-icons.css';
import './styles/global.css';

ReactDOM.createRoot(document.getElementById('root')!).render(
  <React.StrictMode>
    <Suspense fallback={<Loading fullScreen message="Loading application..." />}>
      <RouterProvider router={router} />
    </Suspense>
  </React.StrictMode>
);
```

## src/pages/Cart.tsx

```text
import React, { useEffect, useState } from 'react';
import { Link, useNavigate } from 'react-router-dom';
import { useCartStore } from '../store/cartStore';
import CartItem from '../components/cart/CartItem';
import Loading from '../components/common/Loading';

const Cart: React.FC = () => {
  const navigate = useNavigate();
  const { cart, loading, loadCart, updateQuantity, removeItem, clearCart } =
    useCartStore();
  const [clearing, setClearing] = useState(false);

  useEffect(() => {
    loadCart();
  }, [loadCart]);

  const handleCheckout = () => {
    navigate('/checkout');
  };

  const handleClearCart = async () => {
    if (window.confirm('Are you sure you want to clear your cart?')) {
      setClearing(true);
      try {
        await clearCart();
      } catch (error) {
        console.error('Failed to clear cart:', error);
        alert('Failed to clear cart. Please try again.');
      } finally {
        setClearing(false);
      }
    }
  };

  if (loading) return <Loading fullScreen message="Loading your cart..." />;

  if (!cart || cart.items.length === 0) {
    return (
      <div className="container mt-5 text-center">
        <div className="py-5">
          <svg
            width="120"
            height="120"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            className="text-muted mb-4"
          >
            <path
              d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"
              fill="currentColor"
            />
          </svg>
          <h2>Your cart is empty</h2>
          <p className="text-muted">Start shopping to add items to your cart</p>
          <Link to="/products" className="btn btn-primary btn-lg mt-3">
            Browse Products
          </Link>
        </div>
      </div>
    );
  }

  return (
    <div className="container mt-5">
      <h1>Shopping Cart</h1>
      <table className="table table-striped mt-4">
        <thead>
          <tr>
            <th>Product</th>
            <th>Price</th>
            <th>Quantity</th>
            <th>Total</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          {cart.items.map((item) => (
            <CartItem
              key={item.productId}
              item={item}
              onUpdateQuantity={updateQuantity}
              onRemove={removeItem}
            />
          ))}
        </tbody>
      </table>
      <div className="row mt-4">
        <div className="col-md-8"></div>
        <div className="col-md-4">
          <div className="card">
            <div className="card-body">
              <h4 className="card-title">Order Summary</h4>
              <hr />
              <div className="d-flex justify-content-between mb-2">
                <span>Subtotal:</span>
                <span>${cart.totalPrice.toFixed(2)}</span>
              </div>
              <div className="d-flex justify-content-between mb-2">
                <span>Tax:</span>
                <span>$0.00</span>
              </div>
              <hr />
              <div className="d-flex justify-content-between">
                <strong>Total:</strong>
                <strong className="text-success">${cart.totalPrice.toFixed(2)}</strong>
              </div>
              <button 
                onClick={handleCheckout} 
                className="btn btn-success btn-lg w-100 mt-3"
              >
                Proceed to Checkout
              </button>
              <button 
                onClick={handleClearCart} 
                className="btn btn-outline-danger w-100 mt-2"
                disabled={clearing}
              >
                {clearing ? (
                  <>
                    <span className="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
                    Clearing...
                  </>
                ) : (
                  'Clear Cart'
                )}
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
};

export default Cart;
```

## src/pages/Checkout.tsx

```text
import React, { useState, useEffect } from 'react';
import { useNavigate } from 'react-router-dom';
import { useForm } from 'react-hook-form';
import { yupResolver } from '@hookform/resolvers/yup';
import * as yup from 'yup';
import { useCartStore } from '../store/cartStore';
import { basketService } from '../api/basketService';
import Loading from '../components/common/Loading';
import type { BasketCheckout } from '../types/cart';

const schema = yup.object({
  firstName: yup.string().required('First name is required'),
  lastName: yup.string().required('Last name is required'),
  emailAddress: yup.string().email('Invalid email').required('Email is required'),
  addressLine: yup.string().required('Address is required'),
  country: yup.string().required('Country is required'),
  state: yup.string().required('State is required'),
  zipCode: yup.string().required('Zip code is required'),
  cardName: yup.string().required('Card name is required'),
  cardNumber: yup.string().required('Card number is required'),
  expiration: yup.string().required('Expiration is required'),
  cvv: yup.string().required('CVV is required'),
});

const Checkout: React.FC = () => {
  const navigate = useNavigate();
  const { cart, clearCart, loadCart, loading: cartLoading } = useCartStore();
  const [submitting, setSubmitting] = useState(false);

  const {
    register,
    handleSubmit,
    formState: { errors },
  } = useForm({
    resolver: yupResolver(schema),
  });

  useEffect(() => {
    loadCart();
  }, [loadCart]);

  const onSubmit = async (data: any) => {
    if (!cart) return;

    setSubmitting(true);
    try {
      const checkoutData: BasketCheckout = {
        ...data,
        userName: cart.userName,
        customerId: '58C49479-EC65-4DE2-86E7-033C546291AA',
        totalPrice: cart.totalPrice,
        paymentMethod: 1,
      };

      await basketService.checkoutBasket({
        basketCheckoutDto: checkoutData,
      });

      await clearCart();
      navigate('/confirmation');
    } catch (error) {
      console.error('Checkout failed:', error);
      alert('Checkout failed. Please try again.');
    } finally {
      setSubmitting(false);
    }
  };

  // Show loading while cart is being loaded
  if (cartLoading) {
    return <Loading fullScreen message="Loading checkout..." />;
  }

  // Redirect if cart is empty
  if (!cart || cart.items.length === 0) {
    navigate('/cart');
    return null;
  }

  return (
    <div className="container mt-5">
      <h1>Checkout</h1>
      
      {submitting && (
        <div className="position-fixed top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center" 
             style={{ backgroundColor: 'rgba(0,0,0,0.5)', zIndex: 9999 }}>
          <div className="bg-white p-5 rounded shadow">
            <Loading message="Processing your order..." />
          </div>
        </div>
      )}

      <form onSubmit={handleSubmit(onSubmit)}>
        <div className="row mt-4">
          <div className="col-md-6">
            <div className="card mb-4">
              <div className="card-header">
                <h3 className="mb-0">Shipping Information</h3>
              </div>
              <div className="card-body">
                <div className="mb-3">
                  <label className="form-label">First Name</label>
                  <input {...register('firstName')} className={`form-control ${errors.firstName ? 'is-invalid' : ''}`} />
                  {errors.firstName && (
                    <div className="invalid-feedback">{errors.firstName.message}</div>
                  )}
                </div>
                <div className="mb-3">
                  <label className="form-label">Last Name</label>
                  <input {...register('lastName')} className={`form-control ${errors.lastName ? 'is-invalid' : ''}`} />
                  {errors.lastName && (
                    <div className="invalid-feedback">{errors.lastName.message}</div>
                  )}
                </div>
                <div className="mb-3">
                  <label className="form-label">Email</label>
                  <input {...register('emailAddress')} className={`form-control ${errors.emailAddress ? 'is-invalid' : ''}`} />
                  {errors.emailAddress && (
                    <div className="invalid-feedback">{errors.emailAddress.message}</div>
                  )}
                </div>
                <div className="mb-3">
                  <label className="form-label">Address</label>
                  <input {...register('addressLine')} className={`form-control ${errors.addressLine ? 'is-invalid' : ''}`} />
                  {errors.addressLine && (
                    <div className="invalid-feedback">{errors.addressLine.message}</div>
                  )}
                </div>
                <div className="row">
                  <div className="col-md-6 mb-3">
                    <label className="form-label">Country</label>
                    <input {...register('country')} className={`form-control ${errors.country ? 'is-invalid' : ''}`} />
                    {errors.country && (
                      <div className="invalid-feedback">{errors.country.message}</div>
                    )}
                  </div>
                  <div className="col-md-6 mb-3">
                    <label className="form-label">State</label>
                    <input {...register('state')} className={`form-control ${errors.state ? 'is-invalid' : ''}`} />
                    {errors.state && (
                      <div className="invalid-feedback">{errors.state.message}</div>
                    )}
                  </div>
                </div>
                <div className="mb-3">
                  <label className="form-label">Zip Code</label>
                  <input {...register('zipCode')} className={`form-control ${errors.zipCode ? 'is-invalid' : ''}`} />
                  {errors.zipCode && (
                    <div className="invalid-feedback">{errors.zipCode.message}</div>
                  )}
                </div>
              </div>
            </div>
          </div>
          
          <div className="col-md-6">
            <div className="card mb-4">
              <div className="card-header">
                <h3 className="mb-0">Payment Information</h3>
              </div>
              <div className="card-body">
                <div className="mb-3">
                  <label className="form-label">Card Name</label>
                  <input {...register('cardName')} className={`form-control ${errors.cardName ? 'is-invalid' : ''}`} />
                  {errors.cardName && (
                    <div className="invalid-feedback">{errors.cardName.message}</div>
                  )}
                </div>
                <div className="mb-3">
                  <label className="form-label">Card Number</label>
                  <input {...register('cardNumber')} className={`form-control ${errors.cardNumber ? 'is-invalid' : ''}`} placeholder="1234 5678 9012 3456" />
                  {errors.cardNumber && (
                    <div className="invalid-feedback">{errors.cardNumber.message}</div>
                  )}
                </div>
                <div className="row">
                  <div className="col-md-6 mb-3">
                    <label className="form-label">Expiration</label>
                    <input
                      {...register('expiration')}
                      placeholder="MM/YY"
                      className={`form-control ${errors.expiration ? 'is-invalid' : ''}`}
                    />
                    {errors.expiration && (
                      <div className="invalid-feedback">{errors.expiration.message}</div>
                    )}
                  </div>
                  <div className="col-md-6 mb-3">
                    <label className="form-label">CVV</label>
                    <input {...register('cvv')} className={`form-control ${errors.cvv ? 'is-invalid' : ''}`} placeholder="123" />
                    {errors.cvv && <div className="invalid-feedback">{errors.cvv.message}</div>}
                  </div>
                </div>
              </div>
            </div>

            <div className="card">
              <div className="card-header bg-light">
                <h4 className="mb-0">Order Summary</h4>
              </div>
              <div className="card-body">
                <div className="d-flex justify-content-between mb-2">
                  <span>Items ({cart.items.reduce((sum, i) => sum + i.quantity, 0)}):</span>
                  <span>${cart.totalPrice.toFixed(2)}</span>
                </div>
                <div className="d-flex justify-content-between mb-2">
                  <span>Shipping:</span>
                  <span className="text-success">FREE</span>
                </div>
                <hr />
                <div className="d-flex justify-content-between">
                  <strong>Total:</strong>
                  <strong className="text-success">${cart.totalPrice.toFixed(2)}</strong>
                </div>

                <button
                  type="submit"
                  className="btn btn-success btn-lg w-100 mt-3"
                  disabled={submitting}
                >
                  {submitting ? (
                    <>
                      <span className="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
                      Processing...
                    </>
                  ) : (
                    'Place Order'
                  )}
                </button>
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
  );
};

export default Checkout;
```

## src/pages/Confirmation.tsx

```text
import React from 'react';
import { Link } from 'react-router-dom';

const Confirmation: React.FC = () => {
  return (
    <div className="container mt-5 text-center">
      <div className="alert alert-success">
        <h1>Order Placed Successfully!</h1>
        <p className="lead mt-3">Thank you for your purchase.</p>
        <p>Your order has been confirmed and will be processed soon.</p>
        <div className="mt-4">
          <Link to="/orders" className="btn btn-primary me-2">
            View Orders
          </Link>
          <Link to="/products" className="btn btn-secondary">
            Continue Shopping
          </Link>
        </div>
      </div>
    </div>
  );
};

export default Confirmation;
```

## src/pages/Contact.tsx

```text
import React, { useState } from 'react';
import { useForm } from 'react-hook-form';
import { yupResolver } from '@hookform/resolvers/yup';
import * as yup from 'yup';

interface ContactFormData {
  name: string;
  email: string;
  subject: string;
  message: string;
}

const schema = yup.object({
  name: yup.string().required('Name is required'),
  email: yup
    .string()
    .email('Invalid email address')
    .required('Email is required'),
  subject: yup.string().required('Subject is required'),
  message: yup
    .string()
    .min(10, 'Message must be at least 10 characters')
    .required('Message is required'),
});

const Contact: React.FC = () => {
  const [submitSuccess, setSubmitSuccess] = useState(false);
  const [submitError, setSubmitError] = useState<string | null>(null);

  const {
    register,
    handleSubmit,
    formState: { errors },
    reset,
  } = useForm<ContactFormData>({
    resolver: yupResolver(schema),
  });

  const onSubmit = async (data: ContactFormData) => {
    try {
      // TODO: Replace with actual API call to send contact form
      console.log('Contact form data:', data);
      
      // Simulate API call
      await new Promise((resolve) => setTimeout(resolve, 1000));
      
      setSubmitSuccess(true);
      setSubmitError(null);
      reset();

      // Clear success message after 5 seconds
      setTimeout(() => setSubmitSuccess(false), 5000);
    } catch (error: any) {
        console.log(error);
        
      setSubmitError('Failed to send message. Please try again.');
      setSubmitSuccess(false);
    }
  };

  return (
    <div className="container mt-5">
      <div className="row">
        <div className="col-md-8 mx-auto">
          <h1 className="mb-4">Contact Us</h1>
          
          <div className="card mb-4">
            <div className="card-body">
              <h5 className="card-title">Get in Touch</h5>
              <p className="card-text">
                Have a question or feedback? We'd love to hear from you. Fill out
                the form below and we'll get back to you as soon as possible.
              </p>
            </div>
          </div>

          {submitSuccess && (
            <div className="alert alert-success alert-dismissible fade show" role="alert">
              <strong>Thank you!</strong> Your message has been sent successfully.
              We'll get back to you soon.
              <button
                type="button"
                className="btn-close"
                onClick={() => setSubmitSuccess(false)}
                aria-label="Close"
              ></button>
            </div>
          )}

          {submitError && (
            <div className="alert alert-danger alert-dismissible fade show" role="alert">
              <strong>Error!</strong> {submitError}
              <button
                type="button"
                className="btn-close"
                onClick={() => setSubmitError(null)}
                aria-label="Close"
              ></button>
            </div>
          )}

          <div className="card">
            <div className="card-body">
              <form onSubmit={handleSubmit(onSubmit)}>
                <div className="mb-3">
                  <label htmlFor="name" className="form-label">
                    Name <span className="text-danger">*</span>
                  </label>
                  <input
                    type="text"
                    className={`form-control ${errors.name ? 'is-invalid' : ''}`}
                    id="name"
                    {...register('name')}
                    placeholder="Enter your name"
                  />
                  {errors.name && (
                    <div className="invalid-feedback">{errors.name.message}</div>
                  )}
                </div>

                <div className="mb-3">
                  <label htmlFor="email" className="form-label">
                    Email <span className="text-danger">*</span>
                  </label>
                  <input
                    type="email"
                    className={`form-control ${errors.email ? 'is-invalid' : ''}`}
                    id="email"
                    {...register('email')}
                    placeholder="Enter your email"
                  />
                  {errors.email && (
                    <div className="invalid-feedback">{errors.email.message}</div>
                  )}
                </div>

                <div className="mb-3">
                  <label htmlFor="subject" className="form-label">
                    Subject <span className="text-danger">*</span>
                  </label>
                  <input
                    type="text"
                    className={`form-control ${errors.subject ? 'is-invalid' : ''}`}
                    id="subject"
                    {...register('subject')}
                    placeholder="Enter message subject"
                  />
                  {errors.subject && (
                    <div className="invalid-feedback">{errors.subject.message}</div>
                  )}
                </div>

                <div className="mb-3">
                  <label htmlFor="message" className="form-label">
                    Message <span className="text-danger">*</span>
                  </label>
                  <textarea
                    className={`form-control ${errors.message ? 'is-invalid' : ''}`}
                    id="message"
                    rows={6}
                    {...register('message')}
                    placeholder="Enter your message"
                  ></textarea>
                  {errors.message && (
                    <div className="invalid-feedback">{errors.message.message}</div>
                  )}
                </div>

                <button type="submit" className="btn btn-primary btn-lg w-100">
                  Send Message
                </button>
              </form>
            </div>
          </div>

          <div className="row mt-4">
            <div className="col-md-6">
              <div className="card h-100">
                <div className="card-body">
                  <h5 className="card-title">
                    <i className="bi bi-envelope"></i> Email
                  </h5>
                  <p className="card-text">support@shoppingapp.com</p>
                </div>
              </div>
            </div>
            <div className="col-md-6">
              <div className="card h-100">
                <div className="card-body">
                  <h5 className="card-title">
                    <i className="bi bi-telephone"></i> Phone
                  </h5>
                  <p className="card-text">+1 (555) 123-4567</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
};

export default Contact;
```

## src/pages/Error.tsx

```text
import React from 'react';
import { useRouteError, isRouteErrorResponse, Link } from 'react-router-dom';

const ErrorPage: React.FC = () => {
  const error = useRouteError();
  
  let errorMessage: string;
  let errorStatus: number | string = 'Unknown';

  if (isRouteErrorResponse(error)) {
    // React Router error
    errorStatus = error.status;
    errorMessage = error.statusText || error.data?.message || 'An error occurred';
  } else if (error instanceof Error) {
    // Standard JavaScript error
    errorMessage = error.message;
  } else if (typeof error === 'string') {
    errorMessage = error;
  } else {
    errorMessage = 'An unexpected error occurred';
  }

  const getErrorTitle = () => {
    switch (errorStatus) {
      case 404:
        return 'Page Not Found';
      case 403:
        return 'Access Forbidden';
      case 500:
        return 'Internal Server Error';
      case 503:
        return 'Service Unavailable';
      default:
        return 'Oops! Something Went Wrong';
    }
  };

  const getErrorDescription = () => {
    switch (errorStatus) {
      case 404:
        return "The page you're looking for doesn't exist or has been moved.";
      case 403:
        return "You don't have permission to access this resource.";
      case 500:
        return 'Our server encountered an error while processing your request.';
      case 503:
        return 'Our service is temporarily unavailable. Please try again later.';
      default:
        return 'We apologize for the inconvenience. Please try again or contact support if the problem persists.';
    }
  };

  return (
    <div className="container">
      <div className="row min-vh-100 align-items-center justify-content-center">
        <div className="col-md-8 col-lg-6 text-center">
          <div className="error-container">
            {/* Error Icon */}
            <div className="mb-4">
              {errorStatus === 404 ? (
                <svg
                  width="120"
                  height="120"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                  className="text-danger"
                >
                  <path
                    d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"
                    fill="currentColor"
                  />
                </svg>
              ) : (
                <svg
                  width="120"
                  height="120"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                  className="text-warning"
                >
                  <path
                    d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"
                    fill="currentColor"
                  />
                </svg>
              )}
            </div>

            {/* Error Status */}
            {typeof errorStatus === 'number' && (
              <h1 className="display-1 fw-bold text-muted mb-3">{errorStatus}</h1>
            )}

            {/* Error Title */}
            <h2 className="mb-3">{getErrorTitle()}</h2>

            {/* Error Description */}
            <p className="lead text-muted mb-4">{getErrorDescription()}</p>

            {/* Error Message (for development) */}
            {import.meta.env.MODE === 'development' && (
              <div className="alert alert-danger text-start mb-4">
                <h6 className="alert-heading">Error Details (Development Only):</h6>
                <pre className="mb-0" style={{ whiteSpace: 'pre-wrap', fontSize: '0.875rem' }}>
                  {errorMessage}
                </pre>
              </div>
            )}

            {/* Action Buttons */}
            <div className="d-flex gap-3 justify-content-center">
              <Link to="/" className="btn btn-primary btn-lg">
                <i className="bi bi-house me-2"></i>
                Go to Homepage
              </Link>
              <button
                onClick={() => window.history.back()}
                className="btn btn-outline-secondary btn-lg"
              >
                <i className="bi bi-arrow-left me-2"></i>
                Go Back
              </button>
            </div>

            {/* Help Text */}
            <div className="mt-5">
              <p className="text-muted">
                Need help?{' '}
                <Link to="/contact" className="text-decoration-none">
                  Contact our support team
                </Link>
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
};

export default ErrorPage;
```

## src/pages/Home.tsx

```text
import React from 'react';
import { useProducts } from '../hooks/useProducts';
import ProductCard from '../components/product/ProductCard';
import TopProduct from '../components/product/TopProduct';
import Loading from '../components/common/Loading';
import { useCartStore } from '../store/cartStore';
import type { Product } from '../types/product';

const Home: React.FC = () => {
  const { products, loading, error } = useProducts(1, 6);
  const addItem = useCartStore((state) => state.addItem);

  const handleAddToCart = (product: Product) => {
    addItem({
      productId: product.id,
      productName: product.name,
      price: product.price,
      quantity: 1,
      color: 'default',
    });
  };

  if (loading) return <Loading fullScreen message="Loading featured products..." />;
  
  if (error) {
    return (
      <div className="container mt-5">
        <div className="alert alert-danger" role="alert">
          <h4 className="alert-heading">Error Loading Products</h4>
          <p>{error}</p>
          <hr />
          <button className="btn btn-danger" onClick={() => window.location.reload()}>
            Retry
          </button>
        </div>
      </div>
    );
  }

  const topProduct = products[0];
  const regularProducts = products.slice(1);

  return (
    <div className="container mt-5">
      <div className="row">
        {topProduct && <TopProduct product={topProduct} />}
        <div className="col-md-9">
          <div className="row">
            {regularProducts.map((product) => (
              <ProductCard
                key={product.id}
                product={product}
                onAddToCart={handleAddToCart}
              />
            ))}
          </div>
        </div>
      </div>
    </div>
  );
};

export default Home;
```

## src/pages/OrderList.tsx

```text
import React, { useState } from 'react';
import { useOrders } from '../hooks/useOrders';
import { OrderStatus } from '../types/order';
import Loading from '../components/common/Loading';
import { Link } from 'react-router-dom';

const OrderList: React.FC = () => {
  const [pageIndex, setPageIndex] = useState(1);
  const pageSize = 10;
  const { orders, loading, error } = useOrders(pageIndex, pageSize);

  if (loading) return <Loading fullScreen message="Loading your orders..." />;
  
  if (error) {
    return (
      <div className="container mt-5">
        <div className="alert alert-danger" role="alert">
          <h4 className="alert-heading">Error Loading Orders</h4>
          <p>{error}</p>
          <button className="btn btn-danger" onClick={() => window.location.reload()}>
            Retry
          </button>
        </div>
      </div>
    );
  }

  const getStatusBadge = (status: OrderStatus) => {
    const statusMap = {
      [OrderStatus.Draft]: 'secondary',
      [OrderStatus.Pending]: 'warning',
      [OrderStatus.Completed]: 'success',
      [OrderStatus.Cancelled]: 'danger',
    };
    return `badge bg-${statusMap[status]}`;
  };

  const getStatusText = (status: OrderStatus) => {
    const statusTextMap: Record<OrderStatus, string> = {
      [OrderStatus.Draft]: 'Draft',
      [OrderStatus.Pending]: 'Pending',
      [OrderStatus.Completed]: 'Completed',
      [OrderStatus.Cancelled]: 'Cancelled',
    };
    return statusTextMap[status];
  };

  return (
    <div className="container mt-5">
      <h1 className="mb-4">Order History</h1>
      
      {orders && orders.data.length > 0 ? (
        <>
          <div className="table-responsive">
            <table className="table table-hover">
              <thead className="table-light">
                <tr>
                  <th>Order ID</th>
                  <th>Order Name</th>
                  <th>Status</th>
                  <th>Items</th>
                  <th>Total</th>
                  <th>Date</th>
                </tr>
              </thead>
              <tbody>
                {orders.data.map((order) => (
                  <tr key={order.id}>
                    <td>
                      <small className="text-muted">{order.id.substring(0, 8)}...</small>
                    </td>
                    <td>
                      <strong>{order.orderName}</strong>
                    </td>
                    <td>
                      <span className={getStatusBadge(order.status)}>
                        {getStatusText(order.status)}
                      </span>
                    </td>
                    <td>{order.orderItems.length} items</td>
                    <td>
                      <strong>
                        $
                        {order.orderItems
                          .reduce((sum, item) => sum + item.price * item.quantity, 0)
                          .toFixed(2)}
                      </strong>
                    </td>
                    <td>
                      <small className="text-muted">
                        {/* Add date if available in order object */}
                        N/A
                      </small>
                    </td>
                  </tr>
                ))}
              </tbody>
            </table>
          </div>
          
          <div className="d-flex justify-content-center align-items-center mt-4">
            <button
              className="btn btn-outline-primary me-2"
              onClick={() => setPageIndex((p) => Math.max(1, p - 1))}
              disabled={pageIndex === 1}
            >
              <i className="bi bi-chevron-left"></i> Previous
            </button>
            <span className="mx-3">
              Page <strong>{pageIndex}</strong> of{' '}
              <strong>{Math.ceil(orders.count / pageSize)}</strong>
            </span>
            <button
              className="btn btn-outline-primary ms-2"
              onClick={() => setPageIndex((p) => p + 1)}
              disabled={pageIndex >= Math.ceil(orders.count / pageSize)}
            >
              Next <i className="bi bi-chevron-right"></i>
            </button>
          </div>
        </>
      ) : (
        <div className="text-center py-5">
          <svg
            width="120"
            height="120"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            className="text-muted mb-4"
          >
            <path
              d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 14c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"
              fill="currentColor"
            />
          </svg>
          <h3>No Orders Yet</h3>
          <p className="text-muted">You haven't placed any orders yet.</p>
          <Link to="/products" className="btn btn-primary mt-3">
            Start Shopping
          </Link>
        </div>
      )}
    </div>
  );
};

export default OrderList;
```

## src/pages/Privacy.tsx

```text
import React from 'react';

const Privacy: React.FC = () => {
  return (
    <div className="container mt-5">
      <div className="row">
        <div className="col-md-10 mx-auto">
          <h1 className="mb-4">Privacy Policy</h1>
          
          <div className="card mb-3">
            <div className="card-body">
              <p className="text-muted">
                <strong>Last Updated:</strong> {new Date().toLocaleDateString()}
              </p>
              <p>
                This Privacy Policy describes how Shopping App ("we", "us", or "our")
                collects, uses, and shares your personal information when you use our
                website and services.
              </p>
            </div>
          </div>

          <section className="mb-4">
            <h2>1. Information We Collect</h2>
            <div className="card">
              <div className="card-body">
                <h5>Personal Information</h5>
                <p>
                  When you use our services, we may collect the following types of
                  personal information:
                </p>
                <ul>
                  <li>Name and contact information (email address, phone number)</li>
                  <li>Billing and shipping address</li>
                  <li>Payment information (processed securely by our payment provider)</li>
                  <li>Order history and preferences</li>
                  <li>Account credentials (username and password)</li>
                </ul>

                <h5 className="mt-3">Automatically Collected Information</h5>
                <p>We automatically collect certain information about your device, including:</p>
                <ul>
                  <li>IP address and browser type</li>
                  <li>Operating system and device information</li>
                  <li>Pages visited and time spent on our site</li>
                  <li>Referring website and search terms used</li>
                </ul>
              </div>
            </div>
          </section>

          <section className="mb-4">
            <h2>2. How We Use Your Information</h2>
            <div className="card">
              <div className="card-body">
                <p>We use the information we collect to:</p>
                <ul>
                  <li>Process and fulfill your orders</li>
                  <li>Communicate with you about your orders and account</li>
                  <li>Provide customer support</li>
                  <li>Send marketing communications (with your consent)</li>
                  <li>Improve our website and services</li>
                  <li>Detect and prevent fraud</li>
                  <li>Comply with legal obligations</li>
                </ul>
              </div>
            </div>
          </section>

          <section className="mb-4">
            <h2>3. Information Sharing and Disclosure</h2>
            <div className="card">
              <div className="card-body">
                <p>
                  We do not sell your personal information. We may share your information
                  with:
                </p>
                <ul>
                  <li>
                    <strong>Service Providers:</strong> Third-party companies that help us
                    operate our business (payment processors, shipping companies, etc.)
                  </li>
                  <li>
                    <strong>Legal Authorities:</strong> When required by law or to protect
                    our rights
                  </li>
                  <li>
                    <strong>Business Transfers:</strong> In connection with a merger,
                    acquisition, or sale of assets
                  </li>
                </ul>
              </div>
            </div>
          </section>

          <section className="mb-4">
            <h2>4. Cookies and Tracking Technologies</h2>
            <div className="card">
              <div className="card-body">
                <p>
                  We use cookies and similar tracking technologies to enhance your
                  experience on our website. Cookies are small data files stored on your
                  device that help us:
                </p>
                <ul>
                  <li>Remember your preferences and settings</li>
                  <li>Keep you logged in</li>
                  <li>Understand how you use our site</li>
                  <li>Provide personalized content and advertisements</li>
                </ul>
                <p>
                  You can control cookies through your browser settings. However,
                  disabling cookies may affect the functionality of our website.
                </p>
              </div>
            </div>
          </section>

          <section className="mb-4">
            <h2>5. Data Security</h2>
            <div className="card">
              <div className="card-body">
                <p>
                  We implement appropriate technical and organizational measures to
                  protect your personal information against unauthorized access, loss, or
                  misuse. However, no method of transmission over the internet is 100%
                  secure, and we cannot guarantee absolute security.
                </p>
              </div>
            </div>
          </section>

          <section className="mb-4">
            <h2>6. Your Rights and Choices</h2>
            <div className="card">
              <div className="card-body">
                <p>You have the right to:</p>
                <ul>
                  <li>Access the personal information we hold about you</li>
                  <li>Request correction of inaccurate information</li>
                  <li>Request deletion of your personal information</li>
                  <li>Object to or restrict certain processing activities</li>
                  <li>Withdraw consent for marketing communications</li>
                  <li>Request a copy of your data in a portable format</li>
                </ul>
                <p>
                  To exercise these rights, please contact us using the information
                  provided below.
                </p>
              </div>
            </div>
          </section>

          <section className="mb-4">
            <h2>7. Children's Privacy</h2>
            <div className="card">
              <div className="card-body">
                <p>
                  Our services are not intended for children under the age of 13. We do
                  not knowingly collect personal information from children. If you believe
                  we have collected information from a child, please contact us
                  immediately.
                </p>
              </div>
            </div>
          </section>

          <section className="mb-4">
            <h2>8. International Data Transfers</h2>
            <div className="card">
              <div className="card-body">
                <p>
                  Your information may be transferred to and processed in countries other
                  than your country of residence. These countries may have different data
                  protection laws. By using our services, you consent to such transfers.
                </p>
              </div>
            </div>
          </section>

          <section className="mb-4">
            <h2>9. Changes to This Privacy Policy</h2>
            <div className="card">
              <div className="card-body">
                <p>
                  We may update this Privacy Policy from time to time. We will notify you
                  of any significant changes by posting the new policy on this page and
                  updating the "Last Updated" date. We encourage you to review this
                  Privacy Policy periodically.
                </p>
              </div>
            </div>
          </section>

          <section className="mb-4">
            <h2>10. Contact Us</h2>
            <div className="card">
              <div className="card-body">
                <p>
                  If you have any questions about this Privacy Policy or our data
                  practices, please contact us:
                </p>
                <ul className="list-unstyled">
                  <li>
                    <strong>Email:</strong> privacy@shoppingapp.com
                  </li>
                  <li>
                    <strong>Phone:</strong> +1 (555) 123-4567
                  </li>
                  <li>
                    <strong>Address:</strong> 123 Shopping Street, Commerce City, ST
                    12345
                  </li>
                </ul>
              </div>
            </div>
          </section>
        </div>
      </div>
    </div>
  );
};

export default Privacy;
```

## src/pages/ProductDetail.tsx

```text
import React, { useState } from 'react';
import { useParams, useNavigate } from 'react-router-dom';
import { useProduct } from '../hooks/useProducts';
import Loading from '../components/common/Loading';
import { useCartStore } from '../store/cartStore';

const ProductDetail: React.FC = () => {
  const { productId } = useParams<{ productId: string }>();
  const navigate = useNavigate();
  const { product, loading, error } = useProduct(productId!);
  const addItem = useCartStore((state) => state.addItem);
  const [addingToCart, setAddingToCart] = useState(false);

  const handleAddToCart = async () => {
    if (!product) return;

    setAddingToCart(true);
    try {
      await addItem({
        productId: product.id,
        productName: product.name,
        price: product.price,
        quantity: 1,
        color: 'default',
      });
      
      // Show success feedback
      setTimeout(() => {
        navigate('/cart');
      }, 500);
    } catch (error) {
      console.error('Failed to add to cart:', error);
      alert('Failed to add item to cart. Please try again.');
    } finally {
      setAddingToCart(false);
    }
  };

  if (loading) return <Loading fullScreen message="Loading product details..." />;
  
  if (error) {
    return (
      <div className="container mt-5">
        <div className="alert alert-danger" role="alert">
          <h4 className="alert-heading">Error Loading Product</h4>
          <p>{error}</p>
          <button className="btn btn-primary mt-2" onClick={() => navigate('/products')}>
            Back to Products
          </button>
        </div>
      </div>
    );
  }
  
  if (!product) {
    return (
      <div className="container mt-5">
        <div className="alert alert-warning" role="alert">
          <h4 className="alert-heading">Product Not Found</h4>
          <p>The product you're looking for doesn't exist.</p>
          <button className="btn btn-primary mt-2" onClick={() => navigate('/products')}>
            Browse Products
          </button>
        </div>
      </div>
    );
  }

  return (
    <div className="container mt-5">
      <div className="row">
        <div className="col-md-6">
          <img
            src={`/images/product/${product.imageFile}`}
            alt={product.name}
            className="img-fluid rounded shadow"
          />
        </div>
        <div className="col-md-6">
          <h1>{product.name}</h1>
          <p className="text-muted">
            Categories: {product.category.join(', ')}
          </p>
          <h2 className="text-danger">${product.price.toFixed(2)}</h2>
          <p className="mt-3">{product.description}</p>
          <button 
            onClick={handleAddToCart} 
            className="btn btn-success btn-lg"
            disabled={addingToCart}
          >
            {addingToCart ? (
              <>
                <span className="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
                Adding to Cart...
              </>
            ) : (
              'Add to Cart'
            )}
          </button>
        </div>
      </div>
    </div>
  );
};

export default ProductDetail;
```

## src/pages/ProductList.tsx

```text
import React, { useState } from 'react';
import { useProducts } from '../hooks/useProducts';
import ProductCard from '../components/product/ProductCard';
import Loading from '../components/common/Loading';
import { useCartStore } from '../store/cartStore';
import type { Product } from '../types/product';

const ProductList: React.FC = () => {
  const [pageNumber, setPageNumber] = useState(1);
  const pageSize = 9;
  const { products, loading, error } = useProducts(pageNumber, pageSize);
  const addItem = useCartStore((state) => state.addItem);

  const handleAddToCart = (product: Product) => {
    addItem({
      productId: product.id,
      productName: product.name,
      price: product.price,
      quantity: 1,
      color: 'default',
    });
  };

  if (loading) return <Loading fullScreen message="Loading products..." />;
  
  if (error) {
    return (
      <div className="container mt-5">
        <div className="alert alert-danger" role="alert">
          <h4 className="alert-heading">Error Loading Products</h4>
          <p>{error}</p>
        </div>
      </div>
    );
  }

  return (
    <div className="container mt-5">
      <h1 className="mb-4">Products</h1>
      {products.length === 0 ? (
        <div className="alert alert-info">
          <p className="mb-0">No products found.</p>
        </div>
      ) : (
        <>
          <div className="row">
            {products.map((product) => (
              <ProductCard
                key={product.id}
                product={product}
                onAddToCart={handleAddToCart}
              />
            ))}
          </div>
          <div className="d-flex justify-content-center mt-4">
            <button
              className="btn btn-primary me-2"
              onClick={() => setPageNumber((p) => Math.max(1, p - 1))}
              disabled={pageNumber === 1}
            >
              Previous
            </button>
            <span className="align-self-center">Page {pageNumber}</span>
            <button
              className="btn btn-primary ms-2"
              onClick={() => setPageNumber((p) => p + 1)}
              disabled={products.length < pageSize}
            >
              Next
            </button>
          </div>
        </>
      )}
    </div>
  );
};

export default ProductList;
```

## src/router.tsx

```text
import { createBrowserRouter } from 'react-router-dom';
import { lazy } from 'react';
import App from './App';
import ErrorPage from './pages/Error';

// Lazy load pages for better performance
const Home = lazy(() => import('./pages/Home'));
const ProductList = lazy(() => import('./pages/ProductList'));
const ProductDetail = lazy(() => import('./pages/ProductDetail'));
const Cart = lazy(() => import('./pages/Cart'));
const Checkout = lazy(() => import('./pages/Checkout'));
const Confirmation = lazy(() => import('./pages/Confirmation'));
const OrderList = lazy(() => import('./pages/OrderList'));
const Contact = lazy(() => import('./pages/Contact'));
const Privacy = lazy(() => import('./pages/Privacy'));

export const router = createBrowserRouter([
  {
    path: '/',
    element: <App />,
    errorElement: <ErrorPage />,
    children: [
      {
        index: true,
        element: <Home />,
      },
      {
        path: 'products',
        element: <ProductList />,
      },
      {
        path: 'products/:productId',
        element: <ProductDetail />,
      },
      {
        path: 'cart',
        element: <Cart />,
      },
      {
        path: 'checkout',
        element: <Checkout />,
      },
      {
        path: 'confirmation',
        element: <Confirmation />,
      },
      {
        path: 'orders',
        element: <OrderList />,
      },
      {
        path: 'contact',
        element: <Contact />,
      },
      {
        path: 'privacy',
        element: <Privacy />,
      },
    ],
  },
]);
```

## src/store/cartStore.ts

```typescript
import { create } from 'zustand';
import { persist } from 'zustand/middleware';
import { basketService } from '../api/basketService';
import type { ShoppingCart, ShoppingCartItem } from '../types/cart';

interface CartStore {
  cart: ShoppingCart | null;
  loading: boolean;
  error: string | null;
  
  // Actions
  loadCart: () => Promise<void>;
  addItem: (item: ShoppingCartItem) => Promise<void>;
  removeItem: (productId: string) => Promise<void>;
  updateQuantity: (productId: string, quantity: number) => Promise<void>;
  clearCart: () => Promise<void>;
  syncCart: () => Promise<void>;
}

export const useCartStore = create<CartStore>()(
  persist(
    (set, get) => ({
      cart: null,
      loading: false,
      error: null,

      loadCart: async () => {
        set({ loading: true, error: null });
        try {
          const cart = await basketService.loadUserBasket();
          set({ cart, loading: false });
        } catch (error: any) {
          set({ error: error.message, loading: false });
        }
      },

      addItem: async (item: ShoppingCartItem) => {
        const { cart } = get();
        if (!cart) return;

        const existingItem = cart.items.find((i) => i.productId === item.productId);
        let updatedItems: ShoppingCartItem[];

        if (existingItem) {
          updatedItems = cart.items.map((i) =>
            i.productId === item.productId
              ? { ...i, quantity: i.quantity + item.quantity }
              : i
          );
        } else {
          updatedItems = [...cart.items, item];
        }

        const updatedCart: ShoppingCart = {
          ...cart,
          items: updatedItems,
          totalPrice: updatedItems.reduce((sum, i) => sum + i.price * i.quantity, 0),
        };

        set({ cart: updatedCart });
        await get().syncCart();
      },

      removeItem: async (productId: string) => {
        const { cart } = get();
        if (!cart) return;

        const updatedItems = cart.items.filter((i) => i.productId !== productId);
        const updatedCart: ShoppingCart = {
          ...cart,
          items: updatedItems,
          totalPrice: updatedItems.reduce((sum, i) => sum + i.price * i.quantity, 0),
        };

        set({ cart: updatedCart });
        await get().syncCart();
      },

      updateQuantity: async (productId: string, quantity: number) => {
        const { cart } = get();
        if (!cart) return;

        if (quantity <= 0) {
          await get().removeItem(productId);
          return;
        }

        const updatedItems = cart.items.map((i) =>
          i.productId === productId ? { ...i, quantity } : i
        );
        const updatedCart: ShoppingCart = {
          ...cart,
          items: updatedItems,
          totalPrice: updatedItems.reduce((sum, i) => sum + i.price * i.quantity, 0),
        };

        set({ cart: updatedCart });
        await get().syncCart();
      },

      clearCart: async () => {
        const { cart } = get();
        if (!cart) return;

        try {
          await basketService.deleteBasket(cart.userName);
          set({ cart: { userName: cart.userName, items: [], totalPrice: 0 } });
        } catch (error: any) {
          set({ error: error.message });
        }
      },

      syncCart: async () => {
        const { cart } = get();
        if (!cart) return;

        try {
          await basketService.storeBasket({ cart });
        } catch (error: any) {
          set({ error: error.message });
        }
      },
    }),
    {
      name: 'shopping-cart',
    }
  )
);
```

## src/store/userStore.ts

```typescript

```

## src/styles/global.css

```css
/* Import original styles from .NET app */
.bloc_left_price {
  color: #c01508;
  text-align: center;
  font-weight: bold;
  font-size: 150%;
}

.category_block li:hover {
  background-color: #007bff;
}

.category_block li:hover a {
  color: #ffffff;
}

.category_block li a {
  color: #343a40;
}

.add_to_cart_block .price {
  color: #c01508;
  text-align: center;
  font-weight: bold;
  font-size: 200%;
  margin-bottom: 0;
}

.add_to_cart_block .price_discounted {
  color: #343a40;
  text-align: center;
  text-decoration: line-through;
  font-size: 140%;
}

.product_rassurance {
  padding: 10px;
  margin-top: 15px;
  background: #ffffff;
  border: 1px solid #6c757d;
  color: #6c757d;
}

.product_rassurance .list-inline {
  margin-bottom: 0;
  text-transform: uppercase;
  text-align: center;
}

.product_rassurance .list-inline li:hover {
  color: #343a40;
}

.reviews_product .fa-star {
  color: gold;
}

.pagination {
  margin-top: 20px;
}

footer {
  background: #343a40;
  padding: 40px;
}

footer a {
  color: #f8f9fa !important;
}
```

## src/types/cart.ts

```typescript
export interface ShoppingCartItem {
  quantity: number;
  color: string;
  price: number;
  productId: string;
  productName: string;
}

export interface ShoppingCart {
  userName: string;
  items: ShoppingCartItem[];
  totalPrice: number;
}

export interface GetBasketResponse {
  cart: ShoppingCart;
}

export interface StoreBasketRequest {
  cart: ShoppingCart;
}

export interface StoreBasketResponse {
  userName: string;
}

export interface DeleteBasketResponse {
  isSuccess: boolean;
}

export interface BasketCheckout {
  userName: string;
  customerId: string;
  totalPrice: number;
  // Shipping and Billing
  firstName: string;
  lastName: string;
  emailAddress: string;
  addressLine: string;
  country: string;
  state: string;
  zipCode: string;
  // Payment
  cardName: string;
  cardNumber: string;
  expiration: string;
  cvv: string;
  paymentMethod: number;
}

export interface CheckoutBasketRequest {
  basketCheckoutDto: BasketCheckout;
}

export interface CheckoutBasketResponse {
  isSuccess: boolean;
}
```

## src/types/order.ts

```typescript
export const OrderStatus = {
  Draft: 1,
  Pending: 2,
  Completed: 3,
  Cancelled: 4,
} as const;

export type OrderStatus = typeof OrderStatus[keyof typeof OrderStatus];

export interface Address {
  firstName: string;
  lastName: string;
  emailAddress: string;
  addressLine: string;
  country: string;
  state: string;
  zipCode: string;
}

export interface Payment {
  cardName: string;
  cardNumber: string;
  expiration: string;
  cvv: string;
  paymentMethod: number;
}

export interface OrderItem {
  orderId: string;
  productId: string;
  quantity: number;
  price: number;
}

export interface Order {
  id: string;
  customerId: string;
  orderName: string;
  shippingAddress: Address;
  billingAddress: Address;
  payment: Payment;
  status: OrderStatus;
  orderItems: OrderItem[];
}

export interface PaginatedResult<T> {
  pageIndex: number;
  pageSize: number;
  count: number;
  data: T[];
}

export interface GetOrdersResponse {
  orders: PaginatedResult<Order>;
}

export interface GetOrdersByNameResponse {
  orders: Order[];
}

export interface GetOrdersByCustomerResponse {
  orders: PaginatedResult<Order>;
}
```

## src/types/product.ts

```typescript
export interface Product {
  id: string;
  name: string;
  category: string[];
  description: string;
  imageFile: string;
  price: number;
}

export interface GetProductsResponse {
  products: Product[];
}

export interface GetProductByIdResponse {
  product: Product;
}

export interface GetProductByCategoryResponse {
  products: Product[];
}

export interface PaginationParams {
  pageNumber?: number;
  pageSize?: number;
}
```

## src/utils/formatters.ts

```typescript

```

## src/utils/validators.ts

```typescript

```

## tsconfig.app.json

```json
{
  "compilerOptions": {
    "tsBuildInfoFile": "./node_modules/.tmp/tsconfig.app.tsbuildinfo",
    "target": "ES2022",
    "useDefineForClassFields": true,
    "lib": ["ES2022", "DOM", "DOM.Iterable"],
    "module": "ESNext",
    "types": ["vite/client"],
    "skipLibCheck": true,

    /* Bundler mode */
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "verbatimModuleSyntax": true,
    "moduleDetection": "force",
    "noEmit": true,
    "jsx": "react-jsx",

    /* Linting */
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "erasableSyntaxOnly": true,
    "noFallthroughCasesInSwitch": true,
    "noUncheckedSideEffectImports": true
  },
  "include": ["src"]
}
```

## tsconfig.json

```json
{
  "files": [],
  "references": [
    { "path": "./tsconfig.app.json" },
    { "path": "./tsconfig.node.json" }
  ]
}
```

## tsconfig.node.json

```json
{
  "compilerOptions": {
    "tsBuildInfoFile": "./node_modules/.tmp/tsconfig.node.tsbuildinfo",
    "target": "ES2023",
    "lib": ["ES2023"],
    "module": "ESNext",
    "types": ["node"],
    "skipLibCheck": true,

    /* Bundler mode */
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "verbatimModuleSyntax": true,
    "moduleDetection": "force",
    "noEmit": true,

    /* Linting */
    "strict": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "erasableSyntaxOnly": true,
    "noFallthroughCasesInSwitch": true,
    "noUncheckedSideEffectImports": true
  },
  "include": ["vite.config.ts"]
}
```

## vite.config.ts

```typescript
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

// https://vite.dev/config/
export default defineConfig({
  plugins: [react()],
})
```

## Statistics

- Total Files: 51
- Total Characters: 97220
- Total Tokens: 0
